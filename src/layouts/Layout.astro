---
const { title } = Astro.props;

const GIT_COMMIT = process.env.GIT_COMMIT || "unknownERROR"; // ERROR ensures we truncate
const gitCommit = GIT_COMMIT.slice(0, 7);
const currentYear = new Date().getFullYear();
const email =
  "javascript:window.location.href='mail'+['to:odindutton',['gm','ail'].join('')].join('@')+'.com'";
const commitHref = `https://github.com/twe4ked/odindutton.com/commit/${gitCommit}`;

import "../assets/stylesheets/style.sass";
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Odin Dutton{ title ? ` â€“ ${title}` : ""}</title>
		<link rel="icon" type="image/x-icon" href="/favicon.ico" />
	</head>
	<body>
		<header>
			<a href="/"><h1>Odin Dutton</h1></a>
			<h2>Software Engineer</h2>
			<ul id="social">
				<li><a href="https://github.com/twe4ked" class="github">Github</a></li>
				<li><a href={email} class="contact">Contact</a></li>
				<li><a href="/feed" class="feed">Feed</a></li>
			</ul>
			<a href={commitHref} class="ref">{gitCommit}</a>
		</header>

		<div id="cover"></div>

		<section id="content">
			<section id="wrap">
				<slot />
			</section>

			<footer>
				<small>
					&copy; Copyright 2013&ndash;{currentYear}
					<em>&bull;</em>
					Odin Dutton
					<br />
					<a href="/no-script">&lt;noscript /&gt;</a>
				</small>
			</footer>
		</section>
	</body>
</html>
